(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const y of r.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&n(y)}).observe(document,{childList:!0,subtree:!0});function c(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerpolicy&&(r.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?r.credentials="include":l.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(l){if(l.ep)return;l.ep=!0;const r=c(l);fetch(l.href,r)}})();let t=[];const k=document.querySelector(".tasks"),i=document.querySelector("#inputTaskField"),d=document.querySelector("#deadlineInput"),L=document.querySelector("#submit"),h=document.querySelector("#sortSection"),S=document.querySelector("#taskError"),v=new Date,D=document.querySelector("#todaysDate");D.innerHTML=v.toLocaleDateString();function B(){const e=localStorage.getItem("taskList");e&&(t=JSON.parse(e),s(t))}B();function b(){if(i.value.length===0||d.value===""){S.innerHTML="Fyll i Todo & deadline!";return}else if(i.value.length>=2&&d!=""){console.log(t.indexOf),S.innerHTML="";const e=document.querySelector("input[name='category']:checked").value;let o={task:i.value,deadline:d.value,addedDate:v.toString(),category:e,isComplete:!1};t.push(o),a(t),i.value="",d.value=""}}function s(e){k.innerHTML="";for(let n=0;n<e.length;n++){const l=e[n].isComplete?"checked":"";k.innerHTML+=`
        <li data-id="${n}"> <div class="licontainer">
        <label for= "${e[n].task}">
        <input type="checkbox" ${l} name="checkbox" class="checkbox"data-id="${n}">
        <span class="text" id="texttodo">${e[n].task}</span><br>
        <span class="text"> ${e[n].deadline}</span></div><div class="rightsection">
        <span class="material-symbols-outlined category">${e[n].category}</span>
        <button class="material-symbols-outlined" data-id="${n}">close</button>
        </div>
        </li>`}C(),Array.from(document.querySelectorAll(".tasks button")).forEach(n=>{n.addEventListener("click",x)}),Array.from(document.querySelectorAll(".tasks input")).forEach(n=>{n.addEventListener("change",T)})}function T(e){e.target.checked?(console.log("The checkbox is checked"),e.currentTarget.parentElement.classList.add("colorchange"),g=!g):(console.log("The checkbox is not checked"),e.currentTarget.parentElement.classList.remove("colorchange")),q()}let g=!1;function q(){console.log(t.findIndex(e=>e.isComplete===!0)),(g=!g)?console.log("still false"):console.log("true"),console.log(t)}function C(){t.length<=1&&h.classList.remove("open"),t.length>=2&&h.classList.add("open")}function x(e){const o=e.currentTarget.dataset.id;o>-1&&(t.splice(o,1),s(t)),a(t)}let u=!0,f=!0,m=!0;const E=document.querySelector("#sortByDateBtn"),I=document.querySelector("#sortByNameBtn"),N=document.querySelector("#sortByDeadlineBtn");function $(e){console.log("clicketi"),console.log(t),e.preventDefault(),u?(t.sort((o,c)=>o.addedDate.localeCompare(c.addedDate)),u=!1):u===!1&&(t.sort((o,c)=>c.addedDate.localeCompare(o.addedDate)),u=!0),s(t),a(t)}function M(e){console.log(t),e.preventDefault(),f?(t.sort((o,c)=>o.task.localeCompare(c.task)),f=!1):f===!1&&(t.sort((o,c)=>c.task.localeCompare(o.task)),f=!0),s(t),a(t)}function O(e){console.log("clicketiclick"),console.log(t),e.preventDefault(),m?(t.sort((o,c)=>c.deadline.localeCompare(o.deadline)),m=!1):m===!1&&(t.sort((o,c)=>o.deadline.localeCompare(c.deadline)),m=!0),s(t),a(t)}E.addEventListener("click",$);I.addEventListener("click",M);N.addEventListener("click",O);function a(e){localStorage.setItem("taskList",JSON.stringify(e)),s(e)}const A=document.querySelector("body"),p=document.querySelector(".light-mode-icon");p.addEventListener("click",()=>{A.classList.toggle("change")?p.textContent="dark_mode":p.textContent="light_mode"});L.addEventListener("click",function(e){e.preventDefault(),b()});
