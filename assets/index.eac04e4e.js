(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))g(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const f of r.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&g(f)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function g(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();let o=[];const y=document.querySelector(".tasks"),l=document.querySelector("#inputTaskField"),a=document.querySelector("#deadlineInput"),S=document.querySelector("#submit"),p=document.querySelector("#sortSection"),k=document.querySelector("#taskError"),h=new Date,L=document.querySelector("#todaysDate");L.innerHTML=h.toLocaleDateString();function v(){console.log(localStorage.getItem("taskList"));const t=localStorage.getItem("taskList");t&&(o=JSON.parse(t),c(o))}function D(t){if(t.preventDefault(),l.value.length===0||a.value===""){k.innerHTML="Fyll i Todo & deadline!";return}if(l.value.length>=2&&a!=""){k.innerHTML="";const e=document.querySelector("input[name='category']:checked").value;let n={task:l.value,deadline:a.value,addedDate:h.toString(),category:e,isComplete:!1};o.push(n),c(o),l.value="",a.value=""}}function c(t){localStorage.setItem("taskList",JSON.stringify(t)),y.innerHTML="";for(let e=0;e<t.length;e++){const n=t[e].isComplete?"todochecked":"";y.innerHTML+=`
        <li data-id="${e}"> <div class="licontainer">
        <label for= "${t[e].task}">
        <input type="checkbox" name="checkbox" class="checkbox ${n}" data-id="${e}">
        <span class="text ${n}" id="texttodo">${t[e].task}</span><br>
        <span class="text ${n}"> ${t[e].deadline}</span></div><div class="rightsection">
        <span class="material-symbols-outlined category">${t[e].category}</span>
        <button class="material-symbols-outlined" data-id="${e}">close</button>
        </div>
        </li>`}q(),B()}function B(){Array.from(document.querySelectorAll(".tasks button")).forEach(n=>{n.addEventListener("click",C)}),Array.from(document.querySelectorAll(".tasks input")).forEach(n=>{n.addEventListener("change",b)})}function b(t){const e=o[t.currentTarget.dataset.id];t.target.checked?(console.log("The checkbox is checked"),t.currentTarget.parentElement.classList.add("todochecked"),e.isComplete=!0,console.log(e)):(e.isComplete=!1,console.log("The checkbox is not checked"),t.currentTarget.parentElement.classList.remove("todochecked")),localStorage.setItem("taskList",JSON.stringify(o)),T()}function T(){console.log(o)}function q(){o.length<=1&&p.classList.remove("open"),o.length>=2&&p.classList.add("open")}function C(t){const e=t.currentTarget.dataset.id;e>-1&&(o.splice(e,1),c(o))}let i=!0,d=!0,u=!0;const E=document.querySelector("#sortByDateBtn"),I=document.querySelector("#sortByNameBtn"),N=document.querySelector("#sortByDeadlineBtn");function x(t){console.log("clicketi"),console.log(o),t.preventDefault(),i?(o.sort((e,n)=>e.addedDate.localeCompare(n.addedDate)),i=!1):i===!1&&(o.sort((e,n)=>n.addedDate.localeCompare(e.addedDate)),i=!0),localStorage.setItem("taskList",JSON.stringify(o)),c(o)}function O(t){console.log(o),t.preventDefault(),d?(o.sort((e,n)=>e.task.localeCompare(n.task)),d=!1):d===!1&&(o.sort((e,n)=>n.task.localeCompare(e.task)),d=!0),localStorage.setItem("taskList",JSON.stringify(o)),c(o)}function $(t){console.log("clicketiclick"),console.log(o),t.preventDefault(),u?(o.sort((e,n)=>n.deadline.localeCompare(e.deadline)),u=!1):u===!1&&(o.sort((e,n)=>e.deadline.localeCompare(n.deadline)),u=!0),localStorage.setItem("taskList",JSON.stringify(o)),c(o)}E.addEventListener("click",x);I.addEventListener("click",O);N.addEventListener("click",$);const M=document.querySelector("body"),m=document.querySelector(".light-mode-icon");m.addEventListener("click",()=>{M.classList.toggle("change")?m.textContent="dark_mode":m.textContent="light_mode"});S.addEventListener("click",D);v();
