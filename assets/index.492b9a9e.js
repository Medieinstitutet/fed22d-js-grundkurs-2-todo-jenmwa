(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const r of c)if(r.type==="childList")for(const m of r.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function o(c){const r={};return c.integrity&&(r.integrity=c.integrity),c.referrerpolicy&&(r.referrerPolicy=c.referrerpolicy),c.crossorigin==="use-credentials"?r.credentials="include":c.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(c){if(c.ep)return;c.ep=!0;const r=o(c);fetch(c.href,r)}})();let n=[];const y=document.querySelector(".tasks"),a=document.querySelector("#inputTaskField"),i=document.querySelector("#deadlineInput"),L=document.querySelector("#submit"),k=document.querySelector("#sortSection"),h=document.querySelector("#taskError"),S=new Date,v=document.querySelector("#todaysDate");v.innerHTML=S.toLocaleDateString();function D(){const t=localStorage.getItem("taskList");t&&(n=JSON.parse(t),p(n))}function s(){localStorage.setItem("taskList",JSON.stringify(n)),console.table(n)}function B(t){if(t.preventDefault(),a.value.length===0||i.value===""){h.innerHTML="Fyll i Todo & deadline!";return}if(a.value.length>=2&&i!=""){h.innerHTML="";const e=document.querySelector("input[name='category']:checked").value;let o={task:a.value,deadline:i.value,addedDate:S.toString(),category:e,isComplete:!1};n.push(o),p(n),a.value="",i.value=""}}function p(t){localStorage.setItem("taskList",JSON.stringify(t)),y.innerHTML="";for(let e=0;e<t.length;e++){const o=t[e].isComplete?"todochecked":"",l=t[e].isComplete?"checked":"";y.innerHTML+=`
        <li data-id="${e}"> <div class="licontainer">
        <label for= "${t[e].task}">
        <input type="checkbox" name="checkbox" class="checkbox" ${l} data-id="${e}">
        <span class="text ${o}" id="texttodo">${t[e].task}</span><br>
        <span class="text ${o}"> ${t[e].deadline}</span></div><div class="rightsection">
        <span class="material-symbols-outlined category">${t[e].category}</span>
        <button class="material-symbols-outlined" data-id="${e}">close</button>
        </div>
        </li>`}q(),C()}function C(){Array.from(document.querySelectorAll(".tasks button")).forEach(o=>{o.addEventListener("click",E)}),Array.from(document.querySelectorAll(".tasks input")).forEach(o=>{o.addEventListener("change",T)})}function T(t){const e=n[t.currentTarget.dataset.id];t.target.checked?(e.isComplete=!0,console.log("The checkbox is checked"),t.currentTarget.parentElement.classList.add("todochecked"),t.target.classList.toggle("checked"),console.log(t.currentTarget),console.log(e)):(e.isComplete=!1,console.log("The checkbox is not checked"),t.currentTarget.parentElement.classList.remove("todochecked"),t.target.classList.toggle("checked")),s(),b()}function b(){const t=t.sort((e,o)=>e.isComplete<o.isComplete?-1:e.isComplete>o.isComplete?1:0);s(),console.log(t)}function q(){n.length<=1&&k.classList.remove("open"),n.length>=2&&k.classList.add("open")}function E(t){const e=t.currentTarget.dataset.id;e>-1&&(n.splice(e,1),p(n))}let d=!0,u=!0,f=!0;const x=document.querySelector("#sortByDateBtn"),I=document.querySelector("#sortByNameBtn"),N=document.querySelector("#sortByDeadlineBtn");function $(t){console.log("clicketi"),console.log(n),t.preventDefault(),d?(n.sort((e,o)=>e.addedDate.localeCompare(o.addedDate)),d=!1):d===!1&&(n.sort((e,o)=>o.addedDate.localeCompare(e.addedDate)),d=!0),s()}function M(t){console.log(n),t.preventDefault(),u?(n.sort((e,o)=>e.task.localeCompare(o.task)),u=!1):u===!1&&(n.sort((e,o)=>o.task.localeCompare(e.task)),u=!0),s()}function O(t){console.log("clicketiclick"),console.log(n),t.preventDefault(),f?(n.sort((e,o)=>o.deadline.localeCompare(e.deadline)),f=!1):f===!1&&(n.sort((e,o)=>e.deadline.localeCompare(o.deadline)),f=!0),s()}x.addEventListener("click",$);I.addEventListener("click",M);N.addEventListener("click",O);const A=document.querySelector("body"),g=document.querySelector(".light-mode-icon");g.addEventListener("click",()=>{A.classList.toggle("change")?g.textContent="dark_mode":g.textContent="light_mode"});L.addEventListener("click",B);D();
