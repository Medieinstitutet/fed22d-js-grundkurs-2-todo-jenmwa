(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))l(n);new MutationObserver(n=>{for(const c of n)if(c.type==="childList")for(const p of c.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&l(p)}).observe(document,{childList:!0,subtree:!0});function r(n){const c={};return n.integrity&&(c.integrity=n.integrity),n.referrerpolicy&&(c.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?c.credentials="include":n.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(n){if(n.ep)return;n.ep=!0;const c=r(n);fetch(n.href,c)}})();let t=[];const y=document.querySelector(".tasks"),i=document.querySelector("#inputTaskField"),d=document.querySelector("#deadlineInput"),h=document.querySelector("#submit"),g=document.querySelector("#sortSection"),k=document.querySelector("#taskError"),S=new Date,v=document.querySelector("#todaysDate");v.innerHTML=S.toLocaleDateString();function L(){if(i.value.length===0||d.value===""){k.innerHTML="Fyll i todo & deadline!";return}if(i.value.length>=2&&d!=""){console.log(t.indexOf),k.innerHTML="";const e=document.querySelector("input[name='category']:checked").value;let o={task:i.value,deadline:d.value,addedDate:S,category:e,isComplete:!1};t.push(o),a(t),i.value="",d.value=""}}function s(e){y.innerHTML="";for(let l=0;l<e.length;l++){const n=e[l].isComplete?"checked":"";y.innerHTML+=`
        <li data-id="${l}" class="${n}"> <div>
        <input type="checkbox" name="checkbox" class="checkbox"data-id="${l}">
        <span class="text" id="texttodo">${e[l].task}</span><br>
        <span class="text"> ${e[l].deadline}</span></div><div class="rightsection">
        <span class="material-symbols-outlined" id="favorite">${e[l].category}</span>
        <button class="material-symbols-outlined" data-id="${l}">close</button>
        </div>
        </li>`}console.log(e),B(),Array.from(document.querySelectorAll(".tasks button")).forEach(l=>{l.addEventListener("click",T)}),Array.from(document.querySelectorAll(".tasks input")).forEach(l=>{l.addEventListener("click",D)})}function D(e){const o=t.findIndex(r=>r.task===e.currentTarget.nextElementSibling.innerHTML);console.log(e.currentTarget.nextElementSibling.innerHTML),t[o].isComplete===!0&&e.currentTarget.parentElement.classList.add("checked"),N(),console.log("click",e.currentTarget.dataset.id)}function B(){t.length<=1&&g.classList.remove("open"),t.length>=2&&g.classList.add("open")}function T(e){const o=e.currentTarget.dataset.id;o>-1&&(t.splice(o,1),s(t)),a(t)}let u=!0,f=!0,m=!0;const b=document.querySelector("#sortByDateBtn"),q=document.querySelector("#sortByNameBtn"),E=document.querySelector("#sortByDeadlineBtn");function x(e){console.log("clicketi"),console.log(t),e.preventDefault(),u?(t.sort((o,r)=>o.addedDate.localeCompare(r.addedDate)),u=!1):u===!1&&(t.sort((o,r)=>r.addedDate.localeCompare(o.addedDate)),u=!0),s(t),a(t)}function C(e){console.log(t),e.preventDefault(),f?(t.sort((o,r)=>o.task.localeCompare(r.task)),f=!1):f===!1&&(t.sort((o,r)=>r.task.localeCompare(o.task)),f=!0),s(t),a(t),console.log("klick")}function I(e){console.log("clicketiclick"),console.log(t),e.preventDefault(),m?(t.sort((o,r)=>r.deadline.localeCompare(o.deadline)),m=!1):m===!1&&(t.sort((o,r)=>o.deadline.localeCompare(r.deadline)),m=!0),s(t),a(t)}function N(){console.log("clickt"),console.log(t)}b.addEventListener("click",x);q.addEventListener("click",C);E.addEventListener("click",I);function a(e){localStorage.setItem("taskList",JSON.stringify(e)),s(e)}function M(){const e=localStorage.getItem("taskList");e&&(t=JSON.parse(e),s(t))}M();h.addEventListener("click",function(e){e.preventDefault(),L()});
