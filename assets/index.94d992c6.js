(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))l(n);new MutationObserver(n=>{for(const c of n)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function o(n){const c={};return n.integrity&&(c.integrity=n.integrity),n.referrerpolicy&&(c.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?c.credentials="include":n.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(n){if(n.ep)return;n.ep=!0;const c=o(n);fetch(n.href,c)}})();let r=[];const y=document.querySelector(".tasks"),i=document.querySelector("#inputTaskField"),d=document.querySelector("#deadlineInput"),h=document.querySelector("#submit"),L=document.querySelector("#resetAll"),g=document.querySelector("#sortSection"),k=document.querySelector("#taskError");let B=new Date;const v=document.querySelector("#todaysDate");v.innerHTML=B.toLocaleDateString();function T(){const t=localStorage.getItem("taskList");t&&(r=JSON.parse(t),s(r))}function a(){localStorage.setItem("taskList",JSON.stringify(r))}function q(t){if(t.preventDefault(),i.value.length===0||d.value===""){k.innerHTML="Fyll i Todo & deadline!";return}if(i.value.length>=2&&d!=""){k.innerHTML="";const e=document.querySelector("input[name='category']:checked").value;let o={task:i.value,deadline:d.value,addedDate:new Date().toString(),category:e,isComplete:!1};r.push(o),s(r),i.value="",d.value=""}}function s(t){a(),y.innerHTML="";for(let e=0;e<t.length;e++){const o=t[e].isComplete?"todochecked":"",l=t[e].isComplete?"toggled":"",n=t[e].isComplete?"checked":"";y.innerHTML+=`
        <li class="todo" data-id="${e}">
          <div class="licontainer">
            <label for= "${t[e].task}">
              <input type="checkbox" name="checkbox" class="checkbox ${l}" ${n} data-id="${e}">
              <span class="text texttodo ${o}">${t[e].task}</span><br>
              <span class="text ${o}"> ${t[e].deadline}</span>
            </label>
          </div>
          <div class="rightsection">
            <span class="material-symbols-outlined category">${t[e].category}</span>
            <button class="material-symbols-outlined" aria-label="ta bort todo" data-id="${e}">close</button>
          </div>
          </li>`}b(),C()}function C(){Array.from(document.querySelectorAll(".tasks button")).forEach(o=>{o.addEventListener("click",x)}),Array.from(document.querySelectorAll(".tasks input")).forEach(o=>{o.addEventListener("change",D)})}function D(t){const e=r[t.currentTarget.dataset.id];t.target.checked?(e.isComplete=!0,t.currentTarget.nextElementSibling.classList.add("todochecked"),t.target.classList.add("toggled"),t.target.classList.add("checked")):(e.isComplete=!1,t.currentTarget.nextElementSibling.classList.remove("todochecked"),t.target.classList.remove("toggled"),t.target.classList.remove("checked")),a(),O()}function b(){r.length<=1&&(g.classList.remove("open"),document.querySelector("#sortByText").innerHTML=" "),r.length>=2&&g.classList.add("open")}function x(t){const e=t.currentTarget.dataset.id;e>-1&&(r.splice(e,1),s(r))}let u=!0,m=!0;const E=document.querySelector("#sortByDateBtn"),M=document.querySelector("#sortByNameBtn"),H=document.querySelector("#sortByDeadlineBtn"),$=document.querySelector("#sortByCategoryBtn");function I(t){t.preventDefault(),document.querySelector("#sortByText").innerHTML="inlagt datum",r.sort((e,o)=>e.addedDate<o.addedDate?-1:e.addedDate>o.addedDate?1:0),a(),s(r)}function N(t){t.preventDefault(),document.querySelector("#sortByText").innerHTML="bokstavsordning",u?(r.sort((e,o)=>e.task.localeCompare(o.task)),u=!1):u===!1&&(r.sort((e,o)=>o.task.localeCompare(e.task)),u=!0),a(),s(r)}function A(t){t.preventDefault(),document.querySelector("#sortByText").innerHTML="deadline",m?(r.sort((e,o)=>o.deadline.localeCompare(e.deadline)),m=!1):m===!1&&(r.sort((e,o)=>e.deadline.localeCompare(o.deadline)),m=!0),a(),s(r)}function w(t){t.preventDefault(),document.querySelector("#sortByText").innerHTML="kategori",r.sort((e,o)=>e.category<o.category?-1:e.category>o.category?1:0),a(),s(r)}function O(){r.sort((t,e)=>t.isComplete<e.isComplete?-1:t.isComplete>e.isComplete?1:0),a(),s(r)}E.addEventListener("click",I);M.addEventListener("click",N);H.addEventListener("click",A);$.addEventListener("click",w);function F(){y.innerHTML="",localStorage.clear(),g.classList.remove("open")}const S=document.querySelector("body"),p=document.querySelector(".light-mode-icon");function J(){S.classList.toggle("change"),S.classList.contains("change")?p.textContent="dark_mode":p.textContent="light_mode"}h.addEventListener("click",q);L.addEventListener("click",F);p.addEventListener("click",J);T();
