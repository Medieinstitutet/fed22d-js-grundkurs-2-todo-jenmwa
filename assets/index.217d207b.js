(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const m of a.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerpolicy&&(a.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?a.credentials="include":r.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function l(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();let t=[];const g=document.querySelector(".tasks"),c=document.querySelector("#inputTaskField"),k=document.querySelector("#deadlineInput"),L=document.querySelector("#submit"),S=document.querySelector("#sortSection"),y=document.querySelector("#taskError"),v=new Date,D=document.querySelector("#todaysDate");D.innerHTML=v.toLocaleDateString();const h=document.getElementsByClassName("material-symbols-outlined");for(var p=0;p<h.length;p++)h[p].addEventListener("click",function(){this.classList.add("check")});function B(){if(c.value.length===0){y.innerHTML="Fyll i n\xE5got att g\xF6ra!";return}const e=t.find(o=>o.task===c.value);if((e==null?void 0:e.task)===c.value)y.innerHTML="Du har redan detta p\xE5 din lista.";else{y.innerHTML="";const o=document.querySelector("input[name='category']:checked").value;let n={task:c.value,deadline:k.value,addedDate:v,category:o,isComplete:!1};t.push(n),i(t),c.value="",k.value=""}}function s(e){g.innerHTML="";for(let l=0;l<e.length;l++){const r=e[l].isComplete?"checked":"";g.innerHTML+=`
        <li data-id="${l}" class="${r}"> <div>
        <input type="checkbox" name="checkbox" class="checkbox"data-id="${l}">
        <span class="text" id="texttodo">${e[l].task}</span><br>
        <span class="text">deadline: ${e[l].deadline}</span></div><div class="rightsection">
        <span class="material-symbols-outlined" id="favorite">${e[l].category}</span>
        <button class="material-symbols-outlined" data-id="${l}">close</button>
        </div>
        </li>`}console.log(e),b(),Array.from(document.querySelectorAll(".tasks button")).forEach(l=>{l.addEventListener("click",E)}),Array.from(document.querySelectorAll(".tasks input")).forEach(l=>{l.addEventListener("click",T)})}function T(e){const o=t.findIndex(n=>n.task===e.currentTarget.nextElementSibling.innerHTML);console.log(e.currentTarget.nextElementSibling.innerHTML),t[o].isComplete===!0&&e.currentTarget.parentElement.classList.add("checked"),H(),console.log("click",e.currentTarget.dataset.id)}function b(){t.length<=1&&S.classList.remove("open"),t.length>=2&&S.classList.add("open")}function E(e){const o=e.currentTarget.dataset.id;o>-1&&(t.splice(o,1),s(t)),i(t)}let d=!0,u=!0,f=!0;const q=document.querySelector("#sortByDateBtn"),C=document.querySelector("#sortByNameBtn"),x=document.querySelector("#sortByDeadlineBtn");function N(e){console.log("clicketi"),console.log(t),e.preventDefault(),d?(t.sort((o,n)=>o.addedDate.localeCompare(n.addedDate)),d=!1):d===!1&&(t.sort((o,n)=>n.addedDate.localeCompare(o.addedDate)),d=!0),s(t),i(t)}function I(e){console.log(t),e.preventDefault(),u?(t.sort((o,n)=>o.task.localeCompare(n.task)),u=!1):u===!1&&(t.sort((o,n)=>n.task.localeCompare(o.task)),u=!0),s(t),i(t),console.log("klick")}function M(e){console.log("clicketiclick"),console.log(t),e.preventDefault(),f?(t.sort((o,n)=>n.deadline.localeCompare(o.deadline)),f=!1):f===!1&&(t.sort((o,n)=>o.deadline.localeCompare(n.deadline)),f=!0),s(t),i(t)}function H(){console.log("clickt"),console.log(t)}q.addEventListener("click",N);C.addEventListener("click",I);x.addEventListener("click",M);function i(e){localStorage.setItem("taskList",JSON.stringify(e)),s(e)}function $(){const e=localStorage.getItem("taskList");e&&(t=JSON.parse(e),s(t))}$();L.addEventListener("click",function(e){e.preventDefault(),B()});
