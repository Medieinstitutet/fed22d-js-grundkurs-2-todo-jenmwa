(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))c(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const g of r.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&c(g)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function c(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();let o=[];const f=document.querySelector(".tasks"),a=document.querySelector("#inputTaskField"),i=document.querySelector("#deadlineInput"),h=document.querySelector("#submit"),y=document.querySelector("#sortSection"),p=document.querySelector("#taskError"),S=new Date,L=document.querySelector("#todaysDate");L.innerHTML=S.toLocaleDateString();function b(){console.log(localStorage.getItem("taskList"));const t=localStorage.getItem("taskList");t&&(o=JSON.parse(t),l(o))}function v(t){if(t.preventDefault(),a.value.length===0||i.value===""){p.innerHTML="Fyll i Todo & deadline!";return}if(a.value.length>=2&&i!=""){p.innerHTML="";const e=document.querySelector("input[name='category']:checked").value;let n={task:a.value,deadline:i.value,addedDate:new Date().toString(),category:e,isComplete:!1};o.push(n),l(o),a.value="",i.value=""}}function l(t){localStorage.setItem("taskList",JSON.stringify(t)),f.innerHTML="";for(let e=0;e<t.length;e++){const n=t[e].isComplete?"todochecked":"",c=t[e].isComplete?"toggled":"",s=t[e].isComplete?"checked":"";f.innerHTML+=`
        <li data-id="${e}">
          <div class="licontainer">
            <label for= "${t[e].task}">
              <input type="checkbox" name="checkbox" class="checkbox ${c}"  ${s} data-id="${e}">
              <span class="text ${n}" id="texttodo">${t[e].task}</span><br>
              <span class="text"> ${t[e].deadline}</span>
            </label>
          </div>
          <div class="rightsection">
            <span class="material-symbols-outlined category">${t[e].category}</span>
            <button class="material-symbols-outlined" aria-label="ta bort todo" data-id="${e}">close</button>
          </div>
        </li>`}T(),D()}function D(){Array.from(document.querySelectorAll(".tasks button")).forEach(n=>{n.addEventListener("click",q)}),Array.from(document.querySelectorAll(".tasks input")).forEach(n=>{n.addEventListener("change",B)})}function B(t){const e=o[t.currentTarget.dataset.id];t.target.checked?(e.isComplete=!0,console.log("The checkbox is checked"),t.currentTarget.nextElementSibling.classList.add("todochecked"),t.target.classList.add("toggled"),t.target.classList.add("checked"),console.log(t.target),console.log(e)):(e.isComplete=!1,console.log("The checkbox is not checked"),t.currentTarget.nextElementSibling.classList.remove("todochecked"),t.target.classList.remove("toggled"),t.target.classList.remove("checked")),localStorage.setItem("taskList",JSON.stringify(o)),console.table(o),C()}function C(){o.sort((t,e)=>t.isComplete<e.isComplete?-1:t.isComplete>e.isComplete?1:0),localStorage.setItem("taskList",JSON.stringify(o)),l(o),console.log(o)}function T(){o.length<=1&&y.classList.remove("open"),o.length>=2&&y.classList.add("open")}function q(t){const e=t.currentTarget.dataset.id;e>-1&&(o.splice(e,1),l(o))}let d=!0,u=!0;const I=document.querySelector("#sortByDateBtn"),E=document.querySelector("#sortByNameBtn"),N=document.querySelector("#sortByDeadlineBtn");function x(t){t.preventDefault(),o.sort((e,n)=>e.addedDate<n.addedDate?-1:e.addedDate>n.addedDate?1:0),console.table(o),localStorage.setItem("taskList",JSON.stringify(o)),l(o)}function O(t){console.log(o),t.preventDefault(),d?(o.sort((e,n)=>e.task.localeCompare(n.task)),d=!1):d===!1&&(o.sort((e,n)=>n.task.localeCompare(e.task)),d=!0),localStorage.setItem("taskList",JSON.stringify(o)),l(o)}function $(t){console.log("clicketiclick"),console.log(o),t.preventDefault(),u?(o.sort((e,n)=>n.deadline.localeCompare(e.deadline)),u=!1):u===!1&&(o.sort((e,n)=>e.deadline.localeCompare(n.deadline)),u=!0),localStorage.setItem("taskList",JSON.stringify(o)),l(o)}I.addEventListener("click",x);E.addEventListener("click",O);N.addEventListener("click",$);const k=document.querySelector("body"),m=document.querySelector(".light-mode-icon");function M(){k.classList.toggle("change"),k.classList.contains("change")?m.textContent="dark_mode":m.textContent="light_mode"}m.addEventListener("click",M);h.addEventListener("click",v);b();
