(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))d(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&d(i)}).observe(document,{childList:!0,subtree:!0});function o(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerpolicy&&(l.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?l.credentials="include":r.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function d(r){if(r.ep)return;r.ep=!0;const l=o(r);fetch(r.href,l)}})();let n=[];const y=document.querySelector(".tasks"),u=document.querySelector("#inputTaskField"),m=document.querySelector("#deadlineInput"),L=document.querySelector("#submit"),v=document.querySelector("#resetAll"),p=document.querySelector("#sortSection"),h=document.querySelector("#taskError");let a=new Date;const D=document.querySelector("#todaysDate");D.innerHTML=a.toLocaleDateString();a=document.querySelector("#deadlineInput").valueAsDate;function T(){const t=localStorage.getItem("taskList");t&&(n=JSON.parse(t),s(n))}function c(){localStorage.setItem("taskList",JSON.stringify(n))}function B(t){if(t.preventDefault(),u.value.length===0||m.value===""){h.innerHTML="Fyll i Todo & deadline!";return}if(u.value.length>=2&&m!=""){h.innerHTML="";const e=document.querySelector("input[name='category']:checked").value;let o={task:u.value,deadline:m.value,addedDate:new Date().toString(),category:e,isComplete:!1};n.push(o),s(n),u.value="",m.value=""}}function s(t){c(),y.innerHTML="";for(let e=0;e<t.length;e++){const o=t[e].isComplete?"todochecked":"",d=t[e].isComplete?"toggled":"",r=t[e].isComplete?"checked":"";y.innerHTML+=`
        <li class="todo" data-id="${e}">
          <div class="licontainer">
            <label for= "${t[e].task}">
              <input type="checkbox" name="checkbox" class="checkbox ${d}" ${r} data-id="${e}">
              <span class="text texttodo ${o}">${t[e].task}</span><br>
              <span class="text ${o}"> ${t[e].deadline}</span>
            </label>
          </div>
          <div class="rightsection">
            <span class="material-symbols-outlined category">${t[e].category}</span>
            <button class="material-symbols-outlined" aria-label="ta bort todo" data-id="${e}">close</button>
          </div>
          </li>`;const l=new Date(t[e].deadline),i=new Date(a.getFullYear(),a.getMonth(),a.getDate()+5);l<a?console.log("deadline har passerat"):l<=i&&console.log("deadline \xE4r inom 5 dagar")}C(),q()}function q(){Array.from(document.querySelectorAll(".tasks button")).forEach(o=>{o.addEventListener("click",x)}),Array.from(document.querySelectorAll(".tasks input")).forEach(o=>{o.addEventListener("change",b)})}function b(t){const e=n[t.currentTarget.dataset.id];t.target.checked?(e.isComplete=!0,t.currentTarget.nextElementSibling.classList.add("todochecked"),t.target.classList.add("toggled"),t.target.classList.add("checked")):(e.isComplete=!1,t.currentTarget.nextElementSibling.classList.remove("todochecked"),t.target.classList.remove("toggled"),t.target.classList.remove("checked")),c(),A()}function C(){n.length<=1&&(p.classList.remove("open"),document.querySelector("#sortByText").innerHTML=" "),n.length>=2&&p.classList.add("open")}function x(t){const e=t.currentTarget.dataset.id;e>-1&&(n.splice(e,1),s(n))}let f=!0,g=!0;const E=document.querySelector("#sortByDateBtn"),M=document.querySelector("#sortByNameBtn"),I=document.querySelector("#sortByDeadlineBtn");function $(t){t.preventDefault(),document.querySelector("#sortByText").innerHTML="inlagt datum",n.sort((e,o)=>e.addedDate<o.addedDate?-1:e.addedDate>o.addedDate?1:0),c(),s(n)}function H(t){t.preventDefault(),document.querySelector("#sortByText").innerHTML="bokstavsordning",f?(n.sort((e,o)=>e.task.localeCompare(o.task)),f=!1):f===!1&&(n.sort((e,o)=>o.task.localeCompare(e.task)),f=!0),c(),s(n)}function N(t){t.preventDefault(),document.querySelector("#sortByText").innerHTML="deadline",g?(n.sort((e,o)=>o.deadline.localeCompare(e.deadline)),g=!1):g===!1&&(n.sort((e,o)=>e.deadline.localeCompare(o.deadline)),g=!0),c(),s(n)}function A(){n.sort((t,e)=>t.isComplete<e.isComplete?-1:t.isComplete>e.isComplete?1:0),c(),s(n)}E.addEventListener("click",$);M.addEventListener("click",H);I.addEventListener("click",N);function w(t){t.preventDefault(),console.log("klick"),y.innerHTML="",p.classList.remove("open"),localStorage.clear()}const S=document.querySelector("body"),k=document.querySelector(".light-mode-icon");function F(){S.classList.toggle("change"),S.classList.contains("change")?k.textContent="dark_mode":k.textContent="light_mode"}L.addEventListener("click",B);v.addEventListener("click",w);k.addEventListener("click",F);T();
